{% extends 'base.html.twig' %}

{% block title %} Departement index
{% endblock %}

{% block stylesheets %} 
	<link href="{{asset('assets/plugins/dataTables/datatables.min.css')}}"></script>
{% endblock %}
{% block breadcrumb %}
	<li class="breadcrumb-item active">Stock
	</li>
	<li class="breadcrumb-item active">product</li>
{% endblock %}

{% block body %}
<div class="row">
	<div class="card col-md">

		<div class="card-body">
			

			<div class="col-md-12">
				<div class="card card ">
					<div class="card-header">
						<div class="row">
							<div class="col-md-6">
								<h3 class="card-title">Product List</h3>
							</div>
							<div class="col-md-6">
								<a href="/product/new" style="float:right" class="btn btn-primary">Add New Product</a>
							</div>
						</div>
					</div>
					<div class="card-body">
					    <table id="display" class="table table-stripped">
					       <thead>
					       		<th>name</th>
					       		<th>description</th>
					       		<th>price</th>
					       		<th>brand</th>
					       		<th>category</th>
					       </thead>
					    </table>
					</div>
				</div>
			</div>
		</div>
	</div>

</div>
{% endblock %}
{% block javascripts %}
 <script src="{{asset('assets/plugins/datatables/datatables.min.js')}}"></script>
	<script>
		$(document).ready(function(){   
		    var table = $('#display').dataTable({
		    	"columns": [
		    		{ "data" : "name"},
		    		{ "data" : "description"},
		    		{ "data" : "price"},
		    		{ "data" : "bname"},
		    		{ "data" : "cname"},
		    	],
		        // Server-side parameters
		        "processing": true,
		        "serverSide": true,
		        // Ajax call
		        "ajax": {
		            "url": "{{ path('list_product') }}",
		            "type": "POST"
		        },
		        // Classic DataTables parameters
		        // "paging" : true,
		        // "info" : true, 
		        // "searching": false,
		        // "pageLength": 10,
		        // "order": [[2, 'asc']]
		    });
		});
	</script>	
{% endblock %}

